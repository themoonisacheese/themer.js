<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Themer.js Webapp</title>
  </head>
  <body>
    <h1>Welcome to the Themer.js Webapp!</h1>
    Enter a name and a direct link to the desired background image <br>
    <input type="text" id="name" placeholder='Theme name'/>
    <input type="text" id="BGurl" placeholder='Direct link to image'/>

  <script>
    function submit(){
      const VersionMajor = '2';
      const VersionMinor = '0';

      var name = String(document.getElementById('name').value);;
      var bg = String(document.getElementById('BGurl').value);
      bg.replace("http:", "https:"); //link needs to be https or discord wont load it



      var css = "//META{\"name\":\""+ name +"\",\"description\":\"Generated automatically using Themer.js\",\"author\":\"Themoonisacheese\",\"version\":\"1.0\"}*//\r\n\
\r\n\
{}\r\n\
/* Backgrounds */\r\n\
.app,\r\n\
.callout-backdrop {\r\n\
	background-image: url(\""+bg+"\");\r\n\
	background-size: cover !important;\r\n\
	background-position: center !important;\r\n\
}\r\n\
\r\n\
.bda-backdrop {\r\n\
	background: url(\""+bg+"\");\r\n\
	background-size: cover!important;\r\n\
}\r\n\
\r\n\
#pubs-container:before {\r\n\
	background: url(\""+bg+"\")!important;\r\n\
	background-size: cover!important;\r\n\
}\r\n\
@import url(https://raw.githubusercontent.com/themoonisacheese/themer.js/master/themer.js.css)"



      var element = document.createElement('a');
      element.setAttribute('href', "data:text/plain;charset=utf-8," + encodeURIComponent(css));
      element.setAttribute('download', name + '.theme.css');
      element.style.display = 'none';
      document.body.appendChild(element);

      element.click();

      document.body.removeChild(element);

    }
  </script>
  <button onclick="submit();" href="javascript:;">Submit</button><br>
  <br>
  <br>
  <br>
  Tutorial video: <br>
  <iframe width="640" height="360" src="https://www.youtube.com/embed/C46QLHL5UAQ" frameborder="0" allowfullscreen></iframe>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49169610-2', 'auto');
  ga('send', 'pageview');

</script>
</body>

</html>
