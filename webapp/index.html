<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Themer.js Webapp</title>
  </head>
  <body>
    <h1>Welcome to the Themer.js Webapp!</h1>
    Enter a name and a direct link to the desired background image <br>
    <input type="text" id="name" placeholder='Theme name'/>
    <input type="text" id="BGurl" placeholder='Direct link to image'/>

  <script>
    function submit(){
      const VersionMajor = '4';
      const VersionMinor = '0';

      var name = String(document.getElementById('name').value);;
      var bg = String(document.getElementById('BGurl').value);
      if(bg.charAt(4)===':'){//the link needs to be https or discord won't load it
              bg = 'https'.concat(bg.slice(4));
      }

      var css = "//META{\"name\":\"" + name + "\",\"description\":\"Generated Automatically using Themer.js. Theme base made by DevilBro\",\"author\":\"Themoonisacheese, DevilBro\",\"version\":\"1.0\"}*//{}\n\
      @import url(https://mwittrien.github.io/BetterDiscordAddons/Themes/BasicBackground/BasicBackground.css);\n\
      \n\
      :root {\n\
      	--transparencycolor: 0,0,0;		/* default: 0,0,0 */\n\
      	--transparencyalpha: 0.15;		/* default: 0.15 */\n\
      	--messagetransparency: 0.5;		/* default: 0.5 */\n\
      	--memberlistransparency: 0;		/* default: 0 (additional darkness for member list can be changed in case a bright background makes the list hard to read)*/\n\
      	--accentcolor: 190,78,180; 		/* default: 190,78,180 discord: 114,137,218 bd-blue: 58,113,193*/\n\
      	--background: url(" + bg + "); /* replace the link in url() with your own direct image link to change the background */\n\
      	--backdrop: rgba(0,0,0,0.4);	/* default: rgba(0,0,0,0.4) can also be changed to an image like --background */\n\
      }\n\
"



      var element = document.createElement('a');
      element.setAttribute('href', "data:text/plain;charset=utf-8," + encodeURIComponent(css));
      element.setAttribute('download', name + '.theme.css');
      element.style.display = 'none';
      document.body.appendChild(element);

      element.click();

      document.body.removeChild(element);

    }
  </script>
  <button onclick="submit();" href="javascript:;">Submit</button><br>
  <br>
  <br>
  <br>
  Tutorial video: <br>
  <iframe width="640" height="360" src="https://www.youtube.com/embed/wDee9V2CKc0" frameborder="0" allowfullscreen></iframe>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49169610-2', 'auto');
  ga('send', 'pageview');

</script>
</body>

</html>
